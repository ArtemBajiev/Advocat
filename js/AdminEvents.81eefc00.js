"use strict";(self["webpackChunkadvocate"]=self["webpackChunkadvocate"]||[]).push([[17],{6565:function(e,t,a){var i=a(1076);const n=i.Z.create({baseURL:"https://api.sudural.ru/api"});n.interceptors.request.use((e=>(e.headers.Authorization=`Bearer ${localStorage.getItem("userAccesKey")}`,e))),t["Z"]=n},3263:function(e,t,a){a.d(t,{Z:function(){return v}});var i=a(3396),n=a(9242),s=a(7139),l=a.p+"img/arrowFFF.b3491c23.svg";const d={class:"admin--menu"},o=(0,i._)("img",{width:"20",src:l,alt:""},null,-1),r=[o],m={class:"admin--menu__list"},u={class:"admin-menu__list-item"},c={class:"admin-menu__list-item"},p={class:"admin-menu__list-item"};function _(e,t,a,l,o,_){const h=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("button",{class:"btn-admin-menu",onClick:t[0]||(t[0]=e=>o.adminMenu=!0)},"Меню"),(0,i.Wm)(n.uT,{name:"btn-admin-menu",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("nav",d,[(0,i._)("button",{class:"btn-admin-menu-close",onClick:t[1]||(t[1]=e=>o.adminMenu=!1)},r),(0,i._)("ul",m,[(0,i._)("li",u,[(0,i.Wm)(h,{to:"/adminMain"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Главная ")])),_:1})]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.$store.state.receivedData.advocatsInfo,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"admin-menu__list-item",key:e.id},[(0,i.Wm)(h,{to:{name:"AdminLawyer",params:{id:e.id}}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.name.rus),1)])),_:2},1032,["to"])])))),128)),(0,i._)("li",c,[(0,i.Wm)(h,{to:"/AdminLegalCenter"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Научно-Правовой центр ")])),_:1})]),(0,i._)("li",p,[(0,i.Wm)(h,{to:"/AdminEvents"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Мероприятия ")])),_:1})])])],512),[[n.F8,o.adminMenu]])])),_:1})],64)}var h={data(){return{adminMenu:!1}}},f=a(89);const g=(0,f.Z)(h,[["render",_]]);var v=g},6224:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var i=a(3396),n=a(9242);const s=e=>((0,i.dD)("data-v-352e3c7e"),e=e(),(0,i.Cn)(),e),l={class:"container"},d={class:"Admin__slider"},o=["href"],r=["src"],m=["onClick"],u={class:"Admin__slide-item Admin__slide-item-form"},c={for:""},p={for:""},_={for:""},h={for:""},f=s((()=>(0,i._)("button",{type:"submit",class:"btn btn-primary"},"Добавить",-1))),g={class:"admin__event__cards"},v=["onClick"];function w(e,t,a,s,w,$){const D=(0,i.up)("HeaderSlot"),U=(0,i.up)("AdminMenu"),b=(0,i.up)("EventCard"),k=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(D),(0,i.Wm)(U),(0,i._)("section",null,[(0,i._)("div",l,[(0,i._)("ul",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.slideEventsData.slice().reverse(),(t=>((0,i.wg)(),(0,i.iD)("li",{class:"Admin__slide-item",key:t.id},[(0,i._)("a",{href:`${e.$store.state.URL__DATA}${t.pdf}`},[(0,i._)("img",{width:"300",src:`${e.$store.state.URL__DATA}${t.img}`,alt:""},null,8,r)],8,o),(0,i._)("button",{class:"btn admin__slide__del-btn",onClick:e=>$.delSlide(t.id)},null,8,m)])))),128)),(0,i._)("li",u,[(0,i._)("form",{ref:"formEvent",onSubmit:t[4]||(t[4]=(0,n.iM)(((...e)=>$.uploadFiles&&$.uploadFiles(...e)),["prevent"]))},[(0,i._)("label",c,[(0,i.Uk)("Выберите картинку "),(0,i._)("input",{onChange:t[0]||(t[0]=(...e)=>$.loadImg&&$.loadImg(...e)),type:"file"},null,32)]),(0,i._)("label",p,[(0,i.Uk)("Выберите файл pdf "),(0,i._)("input",{onChange:t[1]||(t[1]=(...e)=>$.loadPdf&&$.loadPdf(...e)),type:"file"},null,32)]),(0,i._)("label",_,[(0,i.Uk)("rus "),(0,i.wy)((0,i._)("input",{id:"",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>w.newSlide.text.rus=e),cols:"30",rows:"10"},null,512),[[n.nr,w.newSlide.text.rus]])]),(0,i._)("label",h,[(0,i.Uk)("eng "),(0,i.wy)((0,i._)("input",{name:"",type:"text",id:"","onUpdate:modelValue":t[3]||(t[3]=e=>w.newSlide.text.eng=e),cols:"30",rows:"10"},null,512),[[n.nr,w.newSlide.text.eng]])]),f],544)])]),(0,i._)("ul",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.lawyerEventsData.slice().reverse(),(e=>((0,i.wg)(),(0,i.iD)("li",{class:"admin-event__item",key:e.id},[(0,i.Wm)(k,{to:{name:"AdminEventsItem",params:{id:e.id}}},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{item:e},null,8,["item"])])),_:2},1032,["to"]),(0,i._)("button",{class:"btn btn-del-event",onClick:(0,n.iM)((t=>$.delEvent(e.id)),["prevent"])},null,8,v)])))),128)),(0,i._)("button",{class:"btn admin-event__item add-events",onClick:t[5]||(t[5]=(0,n.iM)((e=>$.addEvent()),["prevent"]))}," + ")])])])],64)}var $=a(1178),D=a(3263),U=a(7951),b=a(6565),k={components:{HeaderSlot:$.Z,AdminMenu:D.Z,EventCard:U.Z},data(){return{newSlide:{img:"",pdf:"",text:{rus:"",eng:""}}}},computed:{lawyerEventsData(){return this.$store.state.receivedData.lawyerEvents},slideEventsData(){return this.$store.state.receivedData.slideEvents}},mounted(){},methods:{loadImg(e){"jpg"===e.target.files[0].name.split(".").pop()||"png"===e.target.files[0].name.split(".").pop()||"jpeg"===e.target.files[0].name.split(".").pop()?this.newSlide.img=e.target.files[0]:(this.$refs.formEvent.reset(),alert("Неверный формат файла"))},loadPdf(e){"pdf"===e.target.files[0].name.split(".").pop()||"pptx"===e.target.files[0].name.split(".").pop()?this.newSlide.pdf=e.target.files[0]:(this.$refs.formEvent.reset(),alert("Неверный формат файла"))},uploadFiles(){const e=new FormData;e.append("filePdf",this.newSlide.pdf),e.append("fileImg",this.newSlide.img),e.append("text",JSON.stringify(this.newSlide.text)),e.append("lastId",this.slideEventsData.length),this.$store.commit("loadingUpdate",!0),b.Z.post(`${this.$store.state.URL__DATA}api/add/slide`,e,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{alert("Файл успешно загружен:"),this.$refs.formEvent.reset(),this.$store.dispatch("GetData"),this.$store.commit("loadingUpdate",!1)})).catch((e=>{this.$store.commit("loadingUpdate",!1),alert("Ошибка при загрузке файла:",e)}))},addEvent(){this.$store.commit("loadingUpdate",!0),b.Z.post(`${this.$store.state.URL__DATA}api/add/lawyer/event`,{lastId:this.lawyerEventsData.length>0?this.lawyerEventsData[this.lawyerEventsData.length-1].id:1}).then((()=>{alert("Добавлен"),this.$store.dispatch("GetData"),this.$store.commit("loadingUpdate",!1)})).catch((e=>{alert("Ошибка",e),this.$store.commit("loadingUpdate",!1)}))},delSlide(e){if(this.$store.commit("loadingUpdate",!0),window.confirm("Подтвердите удаление")){const t=new FormData;t.append("id",e),b.Z.post(`${this.$store.state.URL__DATA}api/delete/slide`,t).then((()=>{this.$store.dispatch("GetData"),this.$store.commit("loadingUpdate",!1)})).catch((e=>{alert("Ошибка:",e),this.$store.commit("loadingUpdate",!1)}))}},delEvent(e){this.$store.commit("loadingUpdate",!0),window.confirm("Подтвердите удаление")&&b.Z.post(`${this.$store.state.URL__DATA}api/delete/lawyer/event`,{id:e}).then((()=>{alert("Удалён"),this.$store.dispatch("GetData"),this.$store.commit("loadingUpdate",!1)})).catch((e=>{alert("Ошибка",e),this.$store.commit("loadingUpdate",!1)}))}}},y=a(89);const A=(0,y.Z)(k,[["render",w],["__scopeId","data-v-352e3c7e"]]);var E=A}}]);
//# sourceMappingURL=AdminEvents.81eefc00.js.map
"use strict";(self["webpackChunkadvocate"]=self["webpackChunkadvocate"]||[]).push([[330],{3771:function(t,e,a){a.r(e),a.d(e,{default:function(){return W}});var n=a(3396),o=a(9242),l=a(7139);const d=t=>((0,n.dD)("data-v-47d6f47b"),t=t(),(0,n.Cn)(),t),s={name:"admin-lawyer"},r={class:"container"},i={class:"admin__lawyer-info"},c={for:""},f={for:""},p={for:""},u={for:""},m={class:"admin__lawyer-img"},_=["src"],g={for:""},v=d((()=>(0,n._)("button",{type:"submit",class:"btn btn-primary"},"Заменить",-1))),I=d((()=>(0,n._)("p",null,"РУС",-1))),h=d((()=>(0,n._)("hr",null,null,-1))),A=d((()=>(0,n._)("p",null,"ENG",-1))),y={name:"contacts"},b={class:"admin__lawyer__contacts"},w={class:"admin__lawyer__contacts__inputs"},U={for:""},$={for:""},k={for:""},D={class:"admin__lawyer__contacts__inputs"},x={for:""},N={for:""},T={for:""},R=d((()=>(0,n._)("strong",null,"Статьи",-1))),C=d((()=>(0,n._)("br",null,null,-1))),P={key:0},E=["href"],L=["textContent"];function V(t,e,a,d,V,M){const Z=(0,n.up)("HeaderSlot"),F=(0,n.up)("AdminMenu"),G=(0,n.up)("TextEditor");return(0,n.wg)(),(0,n.iD)("section",s,[(0,n.Wm)(Z),(0,n.Wm)(F),(0,n._)("div",r,[(0,n._)("fieldset",i,[(0,n._)("label",c,[(0,n.Uk)("ФИО рус"),(0,n.wy)((0,n._)("input",{class:"form-control",name:"nameRus",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>M.getAdvocatInfo.name.rus=t)},null,512),[[o.nr,M.getAdvocatInfo.name.rus]])]),(0,n._)("label",f,[(0,n.Uk)("ФИО eng"),(0,n.wy)((0,n._)("input",{class:"form-control",name:"nameRus",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>M.getAdvocatInfo.name.eng=t)},null,512),[[o.nr,M.getAdvocatInfo.name.eng]])]),(0,n._)("label",p,[(0,n.Uk)("Полное ФИО рус"),(0,n.wy)((0,n._)("input",{class:"form-control",name:"fullNameRus",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>M.getAdvocatInfo.fullName.rus=t)},null,512),[[o.nr,M.getAdvocatInfo.fullName.rus]])]),(0,n._)("label",u,[(0,n.Uk)("Полное ФИО eng"),(0,n.wy)((0,n._)("input",{class:"form-control",name:"fullNameRus",type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>M.getAdvocatInfo.fullName.eng=t)},null,512),[[o.nr,M.getAdvocatInfo.fullName.eng]])])]),(0,n._)("div",m,[M.getAdvocatInfo.img?((0,n.wg)(),(0,n.iD)("img",{key:0,width:"300",src:`${t.$store.state.URL__DATA}${M.getAdvocatInfo.img}`,alt:""},null,8,_)):(0,n.kq)("",!0),(0,n._)("form",{onSubmit:e[5]||(e[5]=(0,o.iM)(((...t)=>M.uploadImage&&M.uploadImage(...t)),["prevent"])),class:"admin-lawyer__form-img"},[(0,n._)("label",g,[(0,n._)("input",{type:"file",onChange:e[4]||(e[4]=(...t)=>M.loadImage&&M.loadImage(...t))},null,32)]),v],32)]),I,(0,n.Wm)(G,{ref:"textEditorRus",content:M.getAdvocatInfo.info.rus},null,8,["content"]),h,A,(0,n.Wm)(G,{ref:"textEditorEng",content:M.getAdvocatInfo.info.eng},null,8,["content"]),(0,n._)("section",y,[(0,n._)("fieldset",b,[(0,n._)("div",w,[(0,n._)("label",U,[(0,n.Uk)("Номер телефона "),(0,n.wy)((0,n._)("input",{class:"form-control",type:"number","onUpdate:modelValue":e[6]||(e[6]=t=>M.getAdvocatInfo.telLink=t)},null,512),[[o.nr,M.getAdvocatInfo.telLink]])]),(0,n._)("label",$,[(0,n.Uk)("Email "),(0,n.wy)((0,n._)("input",{class:"form-control",type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>M.getAdvocatInfo.email=t)},null,512),[[o.nr,M.getAdvocatInfo.email]])]),(0,n._)("label",k,[(0,n.Uk)("Адресс "),(0,n.wy)((0,n._)("input",{class:"form-control",type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>M.getAdvocatInfo.address.rus=t)},null,512),[[o.nr,M.getAdvocatInfo.address.rus]])])]),(0,n._)("div",D,[(0,n._)("label",x,[(0,n.Uk)("Адресс eng "),(0,n.wy)((0,n._)("input",{class:"form-control",type:"text","onUpdate:modelValue":e[9]||(e[9]=t=>M.getAdvocatInfo.address.eng=t)},null,512),[[o.nr,M.getAdvocatInfo.address.eng]])]),(0,n._)("label",N,[(0,n.Uk)("Telegram "),(0,n.wy)((0,n._)("input",{class:"form-control",type:"number","onUpdate:modelValue":e[10]||(e[10]=t=>M.getAdvocatInfo.tgNikname=t)},null,512),[[o.nr,M.getAdvocatInfo.tgNikname]])])])])]),(0,n._)("form",{class:"admin-lawyer__articles",onSubmit:e[13]||(e[13]=(0,o.iM)(((...t)=>M.uploadPdf&&M.uploadPdf(...t)),["prevent"]))},[(0,n._)("label",T,[R,C,(0,n._)("input",{type:"file",onChange:e[11]||(e[11]=(...t)=>M.loadPdf&&M.loadPdf(...t))},null,32)]),M.getAdvocatInfo.pdf?((0,n.wg)(),(0,n.iD)("div",P,[(0,n._)("a",{href:`${t.$store.state.URL__DATA}${M.getAdvocatInfo.pdf}`},"загруженный файл",8,E)])):(0,n.kq)("",!0),(0,n._)("button",{type:"submit",class:"btn btn-primary",textContent:(0,l.zw)(M.getAdvocatInfo.pdf?"Заменить":"Добавить")},null,8,L),(0,n._)("button",{class:"btn btn-danger",onClick:e[12]||(e[12]=(0,o.iM)((t=>M.delPdf()),["prevent"]))},"Удалить")],32),(0,n._)("button",{class:"btn btn-primary admin__btn-save",onClick:e[14]||(e[14]=(0,o.iM)(((...t)=>M.uploadObject&&M.uploadObject(...t)),["prevent"]))}," Сохранить ")])])}var M=a(743),Z=a(1178),F=a(3263),G=a(6565),S={components:{TextEditor:M.Z,HeaderSlot:Z.Z,AdminMenu:F.Z},data(){return{selectedPdf:null,selectedImg:null}},methods:{saveData(){this.getAdvocatInfo.info.rus=this.$refs.textEditorRus.editor.getHTML(),this.getAdvocatInfo.info.eng=this.$refs.textEditorEng.editor.getHTML()},loadPdf(t){this.selectedPdf=t.target.files[0]},loadImage(t){this.selectedImg=t.target.files[0],console.log(this.selectedImg)},uploadImage(){const t=new FormData;t.append("file",this.selectedImg),t.append("id",this.getAdvocatInfo.id),t.append("fileFormat","img"),t.append("arrayName","advocatsInfo"),G.Z.post(`${this.$store.state.URL__DATA}api/upload/file`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{alert("Файл успешно загружен"),this.$store.dispatch("GetData")})).catch((t=>{alert(`Ошибка при загрузке файла. Код ошибки: ${t.response.status}`)}))},uploadPdf(){const t=new FormData;t.append("file",this.selectedPdf),t.append("id",this.getAdvocatInfo.id),t.append("fileFormat","pdf"),t.append("arrayName","advocatsInfo"),G.Z.post(`${this.$store.state.URL__DATA}api/upload/file`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{alert("Файл успешно загружен"),this.$store.dispatch("GetData")})).catch((t=>{alert(`Ошибка при загрузке файла. Код ошибки: ${t.response.status}`)}))},uploadObject(){this.saveData();const t=new FormData;t.append("arrayName","advocatsInfo"),t.append("id",this.getAdvocatInfo.id),t.append("data",JSON.stringify(this.getAdvocatInfo)),G.Z.post(`${this.$store.state.URL__DATA}api/update`,t).then((t=>{alert("Данные обновлены:",t.data),console.log(t),this.$store.dispatch("GetData")})).catch((t=>{alert("Ошибка обновления:",t),console.error("Ошибка обновления:",t)}))},delPdf(){G.Z.post(`${this.$store.state.URL__DATA}api/delete/pdf`,{arrayName:"advocatsInfo",id:this.getAdvocatInfo.id}).then((()=>{this.$store.dispatch("GetData")}))}},computed:{getAdvocatInfo(){return this.$store.state.receivedData.advocatsInfo.find((t=>t.id===this.$route.params.id))}}},H=a(89);const O=(0,H.Z)(S,[["render",V],["__scopeId","data-v-47d6f47b"]]);var W=O}}]);
//# sourceMappingURL=AdminLawyer.02c08ca5.js.map
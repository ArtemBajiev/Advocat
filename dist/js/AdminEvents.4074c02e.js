"use strict";(self["webpackChunkadvocate"]=self["webpackChunkadvocate"]||[]).push([[17],{6565:function(e,t,n){var a=n(1076);const i=a.Z.create({baseURL:"http://api.sudural.ru/api"});i.interceptors.request.use((e=>(e.headers.Authorization=`Bearer ${localStorage.getItem("userAccesKey")}`,e))),t["Z"]=i},3263:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(3396),i=n(9242),l=n(7139),s=n.p+"img/arrowFFF.b3491c23.svg";const d={class:"admin--menu"},r=(0,a._)("img",{width:"20",src:s,alt:""},null,-1),o=[r],u={class:"admin--menu__list"},m={class:"admin-menu__list-item"},p={class:"admin-menu__list-item"},c={class:"admin-menu__list-item"};function _(e,t,n,s,r,_){const f=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("button",{class:"btn-admin-menu",onClick:t[0]||(t[0]=e=>r.adminMenu=!0)},"Меню"),(0,a.Wm)(i.uT,{name:"btn-admin-menu",mode:"out-in"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("nav",d,[(0,a._)("button",{class:"btn-admin-menu-close",onClick:t[1]||(t[1]=e=>r.adminMenu=!1)},o),(0,a._)("ul",u,[(0,a._)("li",m,[(0,a.Wm)(f,{to:"/adminMain"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Главная ")])),_:1})]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.receivedData.advocatsInfo,(e=>((0,a.wg)(),(0,a.iD)("li",{class:"admin-menu__list-item",key:e.id},[(0,a.Wm)(f,{to:{name:"AdminLawyer",params:{id:e.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.name.rus),1)])),_:2},1032,["to"])])))),128)),(0,a._)("li",p,[(0,a.Wm)(f,{to:"/AdminLegalCenter"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Научно-Правовой центр ")])),_:1})]),(0,a._)("li",c,[(0,a.Wm)(f,{to:"/AdminEvents"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Мероприятия ")])),_:1})])])],512),[[i.F8,r.adminMenu]])])),_:1})],64)}var f={data(){return{adminMenu:!1}}},v=n(89);const w=(0,v.Z)(f,[["render",_]]);var h=w},8717:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(3396),i=n(9242);const l=e=>((0,a.dD)("data-v-cf6c7660"),e=e(),(0,a.Cn)(),e),s={class:"container"},d={class:"Admin__slider"},r=["href"],o=["src"],u=["onClick"],m={class:"Admin__slide-item Admin__slide-item-form"},p={for:""},c={for:""},_={for:""},f={for:""},v=l((()=>(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Добавить",-1))),w={class:"admin__event__cards"},h=["onClick"];function g(e,t,n,l,g,D){const b=(0,a.up)("HeaderSlot"),y=(0,a.up)("AdminMenu"),k=(0,a.up)("EventCard"),E=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(b),(0,a.Wm)(y),(0,a._)("section",null,[(0,a._)("div",s,[(0,a._)("ul",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.slideEventsData.slice().reverse(),(t=>((0,a.wg)(),(0,a.iD)("li",{class:"Admin__slide-item",key:t.id},[(0,a._)("a",{href:`${e.$store.state.URL__DATA}${t.pdf}`},[(0,a._)("img",{width:"300",src:`${e.$store.state.URL__DATA}${t.img}`,alt:""},null,8,o)],8,r),(0,a._)("button",{class:"btn admin__slide__del-btn",onClick:e=>D.delSlide(t.id)},null,8,u)])))),128)),(0,a._)("li",m,[(0,a._)("form",{ref:"formEvent",onSubmit:t[4]||(t[4]=(0,i.iM)(((...e)=>D.uploadFiles&&D.uploadFiles(...e)),["prevent"]))},[(0,a._)("label",p,[(0,a.Uk)("Выберите картинку "),(0,a._)("input",{onChange:t[0]||(t[0]=(...e)=>D.loadImg&&D.loadImg(...e)),type:"file"},null,32)]),(0,a._)("label",c,[(0,a.Uk)("Выберите файл pdf "),(0,a._)("input",{onChange:t[1]||(t[1]=(...e)=>D.loadPdf&&D.loadPdf(...e)),type:"file"},null,32)]),(0,a._)("label",_,[(0,a.Uk)("rus "),(0,a.wy)((0,a._)("input",{id:"",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>g.newSlide.text.rus=e),cols:"30",rows:"10"},null,512),[[i.nr,g.newSlide.text.rus]])]),(0,a._)("label",f,[(0,a.Uk)("eng "),(0,a.wy)((0,a._)("input",{name:"",type:"text",id:"","onUpdate:modelValue":t[3]||(t[3]=e=>g.newSlide.text.eng=e),cols:"30",rows:"10"},null,512),[[i.nr,g.newSlide.text.eng]])]),v],544)])]),(0,a._)("ul",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.lawyerEventsData.slice().reverse(),(e=>((0,a.wg)(),(0,a.iD)("li",{class:"admin-event__item",key:e.id},[(0,a.Wm)(E,{to:{name:"AdminEventsItem",params:{id:e.id}}},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{item:e},null,8,["item"])])),_:2},1032,["to"]),(0,a._)("button",{class:"btn btn-del-event",onClick:(0,i.iM)((t=>D.delEvent(e.id)),["prevent"])},null,8,h)])))),128)),(0,a._)("button",{class:"btn admin-event__item add-events",onClick:t[5]||(t[5]=(0,i.iM)((e=>D.addEvent()),["prevent"]))}," + ")])])])],64)}var D=n(1178),b=n(3263),y=n(5050),k=n(6565),E={components:{HeaderSlot:D.Z,AdminMenu:b.Z,EventCard:y.Z},data(){return{newSlide:{img:"",pdf:"",text:{rus:"",eng:""}}}},computed:{lawyerEventsData(){return this.$store.state.receivedData.lawyerEvents},slideEventsData(){return this.$store.state.receivedData.slideEvents}},mounted(){},methods:{loadImg(e){"jpg"===e.target.files[0].name.split(".").pop()||"png"===e.target.files[0].name.split(".").pop()||"jpeg"===e.target.files[0].name.split(".").pop()?this.newSlide.img=e.target.files[0]:(this.$refs.formEvent.reset(),alert("Неверный формат файла"))},loadPdf(e){"pdf"===e.target.files[0].name.split(".").pop()||"pptx"===e.target.files[0].name.split(".").pop()?this.newSlide.pdf=e.target.files[0]:(this.$refs.formEvent.reset(),alert("Неверный формат файла"))},uploadFiles(){const e=new FormData;e.append("filePdf",this.newSlide.pdf),e.append("fileImg",this.newSlide.img),e.append("text",JSON.stringify(this.newSlide.text)),e.append("lastId",this.slideEventsData.length),k.Z.post("http://api.sudural.ru/api/add/slide",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log("Файл успешно загружен:",e.data),this.$refs.formEvent.reset(),this.$store.dispatch("GetData")})).catch((e=>{console.error("Ошибка при загрузке файла:",e)}))},addEvent(){k.Z.post(`${this.$store.state.URL__DATA}api/add/lawyer/event`,{lastId:this.lawyerEventsData.length>0?this.lawyerEventsData[this.lawyerEventsData.length-1].id:1}).then((()=>{console.log(this.lawyerEventsData.lenght),alert("Добавлен"),this.$store.dispatch("GetData")}))},delSlide(e){if(window.confirm("Подтвердите удаление")){const t=new FormData;t.append("id",e),console.log(e),k.Z.post("http://api.sudural.ru/api/delete/slide",t).then((e=>{console.log(e.data),this.$store.dispatch("GetData")}))}},delEvent(e){window.confirm("Подтвердите удаление")&&(console.log(e),k.Z.post(`${this.$store.state.URL__DATA}api/delete/lawyer/event`,{id:e}).then((()=>{alert("Удалён"),this.$store.dispatch("GetData")})))}}},$=n(89);const A=(0,$.Z)(E,[["render",g],["__scopeId","data-v-cf6c7660"]]);var S=A}}]);
//# sourceMappingURL=AdminEvents.4074c02e.js.map
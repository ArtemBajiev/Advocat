{"version":3,"file":"js/AdminEventsItem.23b7ddc4.js","mappings":"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","sources":["webpack://advocate/./src/views/AdminEventsItem.vue","webpack://advocate/./src/views/AdminEventsItem.vue?b9d9"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/media-has-caption -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <HeaderSlot></HeaderSlot>\n  <AdminMenu></AdminMenu>\n  <div class=\"container\">\n    <fieldset class=\"admin__card-form\">\n      <div class=\"admin__card-form__input-container\">\n        <div>\n          <label for=\"\"\n            >Заголовок рус\n            <input class=\"form-control\" type=\"text\" v-model=\"eventsItemData.cardHeader.rus\" />\n          </label>\n          <label for=\"\"\n            >Заголовок eng\n            <input class=\"form-control\" type=\"text\" v-model=\"eventsItemData.cardHeader.eng\" />\n          </label>\n        </div>\n        <div>\n          <label for=\"\"\n            >Текс отображаемый на карточке рус\n            <textarea\n              class=\"form-control\"\n              name=\"\"\n              id=\"\"\n              v-model=\"eventsItemData.cardText.rus\"\n              cols=\"50\"\n              rows=\"5\"\n            ></textarea>\n          </label>\n          <label for=\"\"\n            >Текс отображаемый на карточке eng\n            <textarea\n              class=\"form-control\"\n              name=\"\"\n              id=\"\"\n              v-model=\"eventsItemData.cardText.eng\"\n              cols=\"50\"\n              rows=\"5\"\n            ></textarea>\n          </label>\n        </div>\n      </div>\n      <form class=\"admin-events__load-img\" @submit.prevent=\"uploadImage\" action=\"\">\n        <label for=\"img\"\n          ><img height=\"200\" :src=\"$store.state.URL__DATA + '' + eventsItemData.img\" alt=\"pzs\" />\n          <input id=\"img\" @change=\"loadImage\" type=\"file\" />\n        </label>\n        <button type=\"submit\" class=\"btn btn-primary\">Загрузить картинку</button>\n      </form>\n    </fieldset>\n    <p>РУС</p>\n    <TextEditor ref=\"textEditorRus\" :content=\"eventsItemData.content.rus\"></TextEditor>\n    <hr />\n    <p>ENG</p>\n    <TextEditor ref=\"textEditorEng\" :content=\"eventsItemData.content.eng\"></TextEditor>\n    <div class=\"admin-events__control-form\">\n      <div v-if=\"eventsItemData.pdf\">\n        <a :href=\"$store.state.URL__DATA + '' + eventsItemData.pdf\">Загруженный файл</a>\n      </div>\n      <form @submit.prevent=\"uploadPdf\" action=\"\">\n        <label for=\"\">Выбрать файл PDF <input type=\"file\" @change=\"loadPdf\" /></label><br />\n        <button\n          type=\"submit\"\n          class=\"btn btn-primary\"\n          v-text=\"eventsItemData.pdf ? 'Заменить PDF' : 'Добавить PDF'\"\n        ></button>\n        <button @click.prevent=\"delPdf\" class=\"btn btn-danger\">Удалить</button>\n      </form>\n    </div>\n    <button class=\"btn btn-primary admin__btn-save\" @click=\"uploadObject\">Сохранить</button>\n  </div>\n</template>\n<script>\nimport HeaderSlot from '@/components/HeaderSlot.vue';\nimport AdminMenu from '@/components/AdminMenu.vue';\nimport TextEditor from '@/components/TextEditor.vue';\nimport axiosClient from '../axios';\n\nexport default {\n  components: {\n    TextEditor,\n    HeaderSlot,\n    AdminMenu,\n  },\n\n  data() {\n    return {\n      adminAdvocatData: [],\n      selectedImg: '',\n      selectedPdf: null,\n      fileUrl: '',\n    };\n  },\n\n  methods: {\n    saveData() {\n      this.eventsItemData.content.rus = this.$refs.textEditorRus.editor.getHTML();\n      this.eventsItemData.content.eng = this.$refs.textEditorEng.editor.getHTML();\n    },\n    loadPdf(event) {\n      // eslint-disable-next-line prefer-destructuring\n      this.selectedPdf = event.target.files[0];\n    },\n    loadImage(event) {\n      // eslint-disable-next-line prefer-destructuring\n      this.selectedImg = event.target.files[0];\n    },\n    uploadImage() {\n      this.$store.commit('loadingUpdate', true);\n      // Функция загрузки изображения\n      // Создаем объект FormData для упаковки файла\n      const formData = new FormData();\n      formData.append('file', this.selectedImg);\n      formData.append('id', this.eventsItemData.id);\n      formData.append('fileFormat', 'img');\n      formData.append('arrayName', 'lawyerEvents');\n      // console.log(formData);\n      // Отправляем запрос на сервер\n      axiosClient\n        .post(`${this.$store.state.URL__DATA}api/upload/file`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        })\n        .then(() => {\n          // Обработка успешного ответа\n          alert('Файл успешно загружен:');\n          this.$store.dispatch('GetData');\n          this.$store.commit('loadingUpdate', false);\n        })\n        .catch((error) => {\n          // Обработка ошибок\n          alert('Ошибка при загрузке файла:', error);\n          this.$store.commit('loadingUpdate', false);\n        });\n    },\n    uploadPdf() {\n      this.$store.commit('loadingUpdate', true);\n      // Функция загрузки изображения\n      // Создаем объект FormData для упаковки файла\n      const formData = new FormData();\n      formData.append('file', this.selectedPdf);\n      formData.append('id', this.eventsItemData.id);\n      formData.append('fileFormat', 'pdf');\n      formData.append('arrayName', 'lawyerEvents');\n      // console.log(formData);\n      // Отправляем запрос на сервер\n      axiosClient\n        .post(`${this.$store.state.URL__DATA}api/upload/file`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        })\n        .then(() => {\n          // Обработка успешного ответа\n          alert('Файл успешно загружен:');\n          this.$store.dispatch('GetData');\n          this.$store.commit('loadingUpdate', false);\n        })\n        .catch((error) => {\n          // Обработка ошибок\n          alert('Ошибка при загрузке файла:', error);\n          this.$store.commit('loadingUpdate', false);\n        });\n    },\n    uploadObject() {\n      this.$store.commit('loadingUpdate', true);\n      this.saveData();\n      const formData = new FormData();\n      formData.append('arrayName', 'lawyerEvents');\n      formData.append('id', this.eventsItemData.id);\n      formData.append('data', JSON.stringify(this.eventsItemData));\n      // console.log(formData);\n      // Отправляем запрос на сервер\n      axiosClient\n        .post(`${this.$store.state.URL__DATA}api/update`, formData)\n        .then((response) => {\n          // Обработка успешного ответа\n          alert('Данные обновлены:', response.data);\n          this.$store.dispatch('GetData');\n          this.$store.commit('loadingUpdate', false);\n        })\n        .catch((error) => {\n          // Обработка ошибок\n          alert('Ошибка обновления:', error);\n          this.$store.commit('loadingUpdate', false);\n        });\n    },\n    delPdf() {\n      this.$store.commit('loadingUpdate', true);\n      axiosClient\n        .post(`${this.$store.state.URL__DATA}api/delete/pdf`, {\n          arrayName: 'lawyerEvents',\n          id: this.eventsItemData.id,\n        })\n        .then(() => {\n          this.$store.dispatch('GetData');\n          this.$store.commit('loadingUpdate', false);\n        }).catch((error) => alert('Ошибка', error));\n    },\n  },\n  computed: {\n    eventsItemData() {\n      return this.$store.state.receivedData.lawyerEvents.find(\n        (item) => item.id === Number(this.$route.params.id),\n      );\n    },\n  },\n  beforeUnmount() {\n    // this.editor.destroy();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.is-active {\n  background-color: rgba(150, 150, 150, 0.329) !important;\n}\n.buttons-editor button {\n  border: 0px;\n  padding: 7px;\n  border-left: 1px solid #0000001f;\n  border-right: 1px solid #0000001f;\n  margin: 0px 3px;\n  background-color: transparent;\n  height: 50px;\n  border-radius: 5px;\n  margin-bottom: 5px;\n  box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.363);\n}\n.admin-events__load-img {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.btn-admin-menu-editor {\n  width: 25px;\n}\n\n.admin__card-form {\n  display: flex;\n  border: 1px solid rgba(128, 128, 128, 0.548);\n  max-width: 800px;\n  justify-content: space-between;\n  margin: 0px auto;\n  margin-bottom: 40px;\n  padding: 10px;\n  border-radius: 20px;\n}\n.admin__btn-save {\n  margin: 20px auto;\n  display: block;\n  width: 20vw;\n}\n.admin__card-form__input-container label {\n  width: 100%;\n  padding-right: 20px;\n}\n.admin-events__control-form{\n\n}\n</style>\n","import { render } from \"./AdminEventsItem.vue?vue&type=template&id=44c97926&scoped=true\"\nimport script from \"./AdminEventsItem.vue?vue&type=script&lang=js\"\nexport * from \"./AdminEventsItem.vue?vue&type=script&lang=js\"\n\nimport \"./AdminEventsItem.vue?vue&type=style&index=0&id=44c97926&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\WEB_DEV\\\\work\\\\advocate\\\\Advocat\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-44c97926\"]])\n\nexport default __exports__"],"names":["class","for","_createElementVNode","type","_createVNode","_component_HeaderSlot","_component_AdminMenu","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$options","eventsItemData","cardHeader","rus","$event","_hoisted_5","eng","_hoisted_6","name","id","cardText","cols","rows","_hoisted_7","onSubmit","_cache","_withModifiers","args","uploadImage","action","_hoisted_8","height","src","_ctx","$store","state","URL__DATA","img","alt","onChange","loadImage","_hoisted_10","_hoisted_11","_component_TextEditor","ref","content","_hoisted_12","_hoisted_13","_hoisted_14","pdf","_createElementBlock","_hoisted_15","href","_hoisted_16","uploadPdf","_hoisted_17","loadPdf","_hoisted_18","_toDisplayString","onClick","delPdf","uploadObject","components","TextEditor","HeaderSlot","AdminMenu","data","adminAdvocatData","selectedImg","selectedPdf","fileUrl","methods","saveData","this","$refs","textEditorRus","editor","getHTML","textEditorEng","event","target","files","commit","formData","FormData","append","axiosClient","headers","then","alert","dispatch","catch","error","JSON","stringify","response","arrayName","computed","receivedData","lawyerEvents","find","item","Number","$route","params","beforeUnmount","__exports__","render"],"sourceRoot":""}